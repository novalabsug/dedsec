<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <script src="https://cdn.tailwindcss.com"></script>
  </head>

  <script>
    (async () => {
      try {
        const res = await fetch(
          "https://www.virustotal.com/api/v3/domains/sanagustinturismo.co",
          {
            method: "GET",
            headers: {
              accept: "application/json",
              "x-apikey":
                "39fc2edc3e21c3abf28db2f64aac9f4156cc407c7bc6ae964aba7e36c025a069",
            },
          }
        );

        // sanagustinturismo.co
        // innovationvillage.africa

        const data = await res.json();

        console.log(data);

        console.log(data?.data.attributes.last_analysis_stats);

        if (data?.data.attributes?.last_analysis_stats.malicious > 0) {
          const div = document.createElement("div");
          div.className =
            "fixed bottom-10 right-10 w-fit py-3 px-6 shadow-lg rounded-md bg-white";
          div.setAttribute("id", "popup-warning");
          div.innerHTML = `
                <h3 class="text-lg text-red-500 font-bold">DedSec Warning !!!</h3>
                <p class="text-base my-4">This is has been flagged as fraudulent by ${data?.data.attributes?.last_analysis_stats.malicious} sites</p>
            `;

          document.querySelector("body").appendChild(div);

          setTimeout(() => {
            document.getElementById("popup-warning").classList.add("hidden");
          }, 4500);
        } else {
          const div = document.createElement("div");
          div.className =
            "fixed bottom-10 right-10 w-fit py-3 px-6 shadow-lg rounded-md bg-white";
          div.setAttribute("id", "popup-warning");
          div.innerHTML = `
                <h3 class="text-lg text-green-500 font-bold">DedSec scan</h3>
                <p class="text-base my-4">This site has been scanned and is safe</p>
            `;

          document.querySelector("body").appendChild(div);

          setTimeout(() => {
            document.getElementById("popup-warning").classList.add("hidden");
          }, 4500);
        }
      } catch (error) {
        console.log({ error });
      }
    })();
  </script>

  <body>
    <main class="py-8 flex h-screen w-full bg-gray-50">
      <div class="m-auto w-2/5">
        <div class="py-10">
          <div class="bg-white p-8 shadow-md">
            <div class="py-6">
              <h3 class="text-center text-3xl font-bold">Sign In</h3>
            </div>

            <form id="sign-in-form">
              <div class="py-2">
                <input
                  type="text"
                  name="email"
                  id="email"
                  class="py-2 px-3 outline-none border-[1.8px] border-slate-300 rounded-md w-full"
                  placeholder="enter email"
                />
              </div>

              <div class="py-2">
                <input
                  type="password"
                  name="password"
                  id="password"
                  class="py-2 px-3 outline-none border-[1.8px] border-slate-300 rounded-md w-full"
                  placeholder="enter password"
                />
              </div>

              <div class="py-2">
                <button
                  type="submit"
                  class="py-2 px-4 outline-none rounded-md bg-black text-white"
                >
                  Submit
                </button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </main>
  </body>
</html>
